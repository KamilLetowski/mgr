\chapter{Og�lny problem}
Badany problem jest w informatyce nazywany problemem komiwoja�era. W tym rozdziale zostanie on om�wiony oraz metody optymalizacji.

\section{Problem komiwoja�era} 
Problem komiwoja�era (ang. travelling salesman problem - TSP) nale�y do rodziny problem�w NP-trudnych. Znalezienie najlepszego rozwi�zania jest trudne i fascynuje naukowc�w od wielu lat. Niekt�rzy poddaj� pod w�tpliwo�� znalezienie efektywnego rozwi�zania, czyli takiego kt�rego czas dzia�ania jest maksymalnie wielomianowy. Aktualnie istnieje wiele rozwi�za� tego problemu, a proponowane podej�cia s� bardzo interesuj�ce. Niekt�re z nich bazuj� na lokalnych przeszukiwaniach grafu, a inne opieraj� si� na przyk�adach kt�re wyst�puj� w przyrodzie.

Podobnym problemem do TSP jest problem konika szachowego. Problem ten r�wnie� nale�y do rodziny problem�w NP-zupe�nym. Ju� w XVIII wieku badania nad tym problemem rozpocz�� Euler \cite{euler_2}. Rozwi�zanie tego problemu polega na znalezieniu �cie�ki jak� ma przeby� konik szachowy, tak aby odwiedzi� ka�de pole na szachownicy tylko i wy��cznie raz. Skoczek porusza si� po planszy zgodnie z okre�lonym ruchem, a plansza szachowa mo�e mie� r�ny rozmiar. Konik porusza si� a� do momentu odwiedzenia wszystkich p�l lub do momentu w kt�rym nie ma mo�liwo�ci odwiedzenia kolejnego pola.

Optymalizacja tras od zawsze jest obecna w historii ludzko�ci. Nawet takie trywialne problemy jak podr� pomi�dzy 3 miejscowo�ciami mo�e zosta� sklasyfikowany jako problem komiwoja�era. Chocia� dok�adne wskazanie na �r�d�o problemu TSP nie jest znane, to ju� w 1832 roku w przewodniku dla podr�uj�cych po Niemczech i Szwajcarii zosta�a zawarta informacja o optymalizacji trasy przejazdu. Nie ma tam zawartych �adnych teorii matematycznych w zwi�zku z czym nie mo�na uzna� tego dzie�a za pocz�tek rozwa�a� nad problemem komiwoja�era.\cite{kl_poczatek_rozwazan}

W XIX wieku William Hamilton stworzy� fundamenty pod definicj� TSP. W rozwi�zaniu problemu komiwoja�era nale�y znale�� cykl w grafie. W sk�ad takiego cyklu musi zosta� zawarty ka�dy z wierzcho�k�w. Ka�dy z wierzcho�k�w mo�e znajdowa� si� w rozwi�zaniu dok�adnie tylko raz. Cykl kt�ry spe�nia wymieniony warunek jest cyklem Hamiltona. Je�li w grafie mo�na wyr�ni� cykl z opisanymi powy�ej warunkami, to graf jest grafem Hamiltonowskim. 

Na \ref{kl_graf_nie_hamiltona} zosta� przedstawiony graf bez cyklu Hamiltona. W grafie tym nie mo�na znale�� takiego po��czenia kt�re zawiera wszystkie wierzcho�ki przechodz�c przez ka�dy z nich dok�adnie raz. Istnieje mo�liwo�� przej�cia przez wszystkie wierzcho�ki jedynie po powt�rnym odwiedzeniu przynajmniej jednego wierzcho�ka.

\begin{figure}[h!]
	\centering
	\includegraphics[scale=0.75]{grafika/kl_graf_nie_hamiltona.png}
	\caption{Graf bez cyklu Hamiltona.}
	\label{kl_graf_nie_hamiltona}
\end{figure}

Graf z \ref{kl_graf_hamiltona} posiada po��czenie kraw�dzi dzi�ki kt�remu mo�na przej�� po wszystkich wierzcho�kach dok�adnie raz. Takie przej�cie jest w�a�nie cyklem Hamiltona w zwi�zku z czym graf jest Hamiltonowski. Wyruszaj�c przyk�adowo z punktu F mo�emy przej�� kolejno do E - G - D - B - A - C. W ten spos�b odwiedzimy wszystkie wierzcho�ki tylko raz. 

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.75]{grafika/kl_graf_hamiltona.png}
	\caption{Graf z cyklem Hamiltona.}
	\label{kl_graf_hamiltona}
\end{figure}

W latach 30 XX wieku Merrill Meeks Flood rozpocz�� rozwa�ania nad optymalizacj� przejazdu autobus�w szkolnych. Dzia�alno�� t� mo�emy uzna� za pocz�tek pracy nad problemem TSP. Wraz z up�ywem czasu zainteresowanie problemem optymalizacyjnym narasta�o, a co za tym idzie powstawa�y nowe pomys�y na algorytmy. Jednak �aden z pomys��w nie jest w stanie zaproponowa� dok�adnego rozwi�zania kt�re jest w stanie przedstawi� rezultat w czasie wyra�onym za pomoc� wielomianu.

\section{Metody optymalizacji} 
	
Jednym z proponowanych rozwi�za� jest algorytm Helda Karpa kt�ry jest oparty na programowaniu dynamicznym. Z�o�ono�� pami�ciowa tego algorytmy wynosi $\theta$(\(2n^n\))
, a czasowa $\theta$(\(n^2*2^n\)). W algorytmie tym na ka�dym kroku wyznaczamy punkt kt�ry powinien by� przedostatni na trasie. Aby wyznaczy� poprzednika nale�y skorzysta� ze wzoru w kt�rym poszukiwana jest najmniejsza warto�� pomi�dzy punktami.

Innym przyk�adem , kt�ry mo�na wykorzysta� do rozwi�zania problemu komiwoja�era jest algorytm najbli�szego s�siada. Rozwi�zanie to wykorzystuje strategi� zach�ann�. W algorytmie szukamy aktualnie najlepszego ruchu. W tym celu przeszukiwani s� jedynie s�siedzi kt�rzy s� najbli�ej aktualnego punktu. Z�o�ono�� takiego algorytmu jest szacowana na $\theta$(\(n^2\)).

Opr�cz standardowych przeszukiwa� zbior�w na przestrzeni lat pojawi�y si� propozycje kt�re wprowadzaj� elementy losowo�ci. Przyk�adem takiego rozwi�zania mog� by� algorytm genetyczny oraz algorytm mr�wkowy. Nale�� one do grup algorytm�w heurystycznych, czyli do takich, kt�re nie daj� gwarancji znalezienia dok�adnego rozwi�zania.

W pracy zostan� zbadane rozwi�zania problemu za pomoc� algorytmu genetycznego, mr�wkowego oraz zach�annego. W pozosta�ych podrozdzia�ach zostan� opisane ich klasyczne wersje.

\subsection{Algorytm genetyczny -- PS}
Algorytm genetyczny (ang.  \textit{GA - Genetic Algorithm}) polega na symulacji proces�w genetycznych zachodz�cych w populacjach osobnik�w, stosuje si� je g��wnie przy zadaniach optymalizacyjnych \cite{genetic_9}. W przyrodzie  gatunki w kolejnych swoich pokoleniach si� rozwijaj� i dostosowuj� do otaczaj�cych warunk�w na �wiecie. Gdy jaki� osobnik urodzi si� z cech�, kt�ra jest przydatna w przetrwaniu, mo�e przekaza� t� cech� kolejnym pokoleniom. Najs�absze osobniki w populacji maj� zar�wno mniejsze szanse na przetrwanie oraz rozmno�enie, czyli przekazanie swoich cech potomkom. W algorytmach genetycznych podobnie jak w przyrodzie na przetrwanie maj� szans� najsilniejsze osobniki (rozwi�zania).

W latach 50 XX wieku zacz�to symulowa� te procesy w informatyce [ODNO�NIK]. W latach 60 John Henry Holland zastosowa� algorytm genetyczny przy pracach nad systemami adaptacyjnymi, a 1975  wyda� ksi��k� \textit{Adaptation in Natural and Artificial Systems}, w kt�rej to opisa�.\cite{genetic_1}. Algorytm genetyczny poszukuje najlepsze rozwi�zania, w�r�d populacji potencjalnych rozwi�za�. Jest to g��wna cecha, kt�ra odr�nia go od tradycyjnych metod optymalizacji. Ka�de rozwi�zanie podlega ocenie na podstawie jego dopasowania do problemu. Algorytm w populacji potencjalnych symuluje zjawiska ewolucyjne, takie jak: 
\begin{itemize}
  \item selekcja potencjalnych rodzic�w,
  \item krzy�owanie rozwi�za�,
  \item mutacja rozwi�za�.
\end{itemize}.
 W ka�dym nowym pokoleniu najs�absi s� usuwani, wi�c w kolejnych etapach populacja sk�ada si� z coraz to lepszych rozwi�za� \cite{genetic_9}. Kolejne pokolenia s� generowane, a� zostanie spe�niony warunek zako�czenia. Mo�e to by� z g�ry ustalony czas trwania, liczba kolejnych pokole� lub brak poprawy w�r�d nowych rozwi�za�.

Algorytmy genetyczne i jego odmiany zrewolucjonizowa�y systemy informatyczne. Algorytmy genetyczne nie wyliczaj� dok�adnych wynik�w, ale przy odpowiedniej implementacji i ustaleniu parametr�w wej�ciowych, pozwalaj� osi�gn�� dobre rezultaty. Bardzo wa�ny jest czas znalezienia takiego rozwi�zania. Je�li rozwi�zanie idealne obliczane jest przez algorytm tradycyjny w ci�gu 24 godziny, a algorytm genetyczny w trakcie kilku minut znajdzie rozwi�zanie b�d�ce w s�siedztwie, swoj� efektywno�ci� wygra ten drugi.  U�ytkownik nie b�dzie chcia� czeka� ca�ej doby na wynik swojego zapytania. Oczywi�cie, algorytmy genetyczne te� mog� znale�� najlepsze rozwi�zanie. Kwesti� ograniczenia jest zawsze czas.

Medycyna jest jedn� z wa�niejszych dziedzin, gdzie wykorzystuje si� algorytmy genetyczne. Zbiory danych i przestrze� przeszukiwa� jest ogromna i z�o�ona. Zazwyczaj w oparciu o te informacj�, lekarz musi podj�� decyzj�, czy np. nowotw�r jest z�o�liwy, czy ma �agodny przebieg. Algorytm genetyczny pozwala wspom�c lekarza przy podejmowania takich decyzji, przetwarzaj�c i analizuj�c te ogromne zbiory \cite{genetic_2}. 

Kolejn� ga��zi� gospodarki, w kt�rych zastosowanie znajduje algorytm genetyczny, jest przemys� spo�ywczy, a konkretnie optymalizacja linii produkcyjnych [ODNO�NIK]. Za pomoc� algorytmu genetycznego wyznacza si� parametry, takie jak temperatura, ci�nienie lub zapotrzebowanie mocy. Dzi�ki temu wszystkie procesy technologiczne zachodz�ce w maszynach i urz�dzeniach s� wydajne i zoptymalizowane \cite{genetic_4}. Algorytmy genetyczne cz�sto stosuje si� jako  wskazanie punkt�w pocz�tkowych w innych metodach optymalizacyjnych. Poza podanymi przyk�adami, znajduj� one zastosowanie praktycznie wsz�dzie: ekonomia, gie�da, przemys� lotniczy, kombinatoryka, sieci komputerowe, zarz�dzanie �a�cuchem dostaw, a tak�e ustalanie czasu reklamy w telewizji \cite{genetic_5}.


\subsection{Algorytm mr�wkowy}

Obserwacje nad zachowaniami w przyrodzie wielokrotnie mia�y wp�yw na rozw�j nowych rozwi�za�. Tak jak w przypadku algorytmu genetycznego, tak i w przypadku algorytmu mr�wkowego pomys� zosta� zaczerpni�ty z przyrody. Dok�adne dzia�anie algorytmu mr�wkowego wzoruje si� na zachowaniu kolonii mr�wek. Dzi�ki pracy zespo�owej, owady te s� w stanie wypracowa� optymaln� �cie�k� mi�dzy siedliskiem a znalezionym pokarmem.

Dla niejednego gatunku problematyczne mog�oby by� odtworzenie przebytej �cie�ki. Na pocz�tku nale�a�oby zada� sobie pytanie w jaki spos�b te niewielkich rozmiar�w owady s� w stanie znacz�co u�atwi� sobie przetrwanie? Istotn� rol� odgrywa tutaj wspomniana ju� praca zespo�owa. To dzi�ki niej mr�wki s� w stanie optymalizowa� tras�. Innym wa�nym czynnikiem determinuj�cym popraw� �cie�ki jest zapach jaki zostawiaj� mr�wki. 

Zapach nie jest niczym innym jak feromonem wytwarzanym przez mr�wki. Dzi�ki pozostawionemu zapachowi mr�wki identyfikuj� w jaki spos�b poruszali si� ich poprzednicy w zwi�zku z czym odtworzenie trasy nie stanowi�o ju� powa�nego problemu. Przy kolejnych iteracjach, kolonia pr�buje optymalizowa� aktualn� tras�. W tym celu r�wnie� wykorzystuje zapach pozostawiony w poprzednich przej�ciach. �cie�ka jest losowo zmieniana w celu optymalizacji. Je�li modyfikacja przynios�a oczekiwany efekt, to trasa zostaje zmieniona.

Algorytm mr�wkowy znajduje swoje zastosowanie w rozwi�zywaniu innych problem�w. Problem plecakowy jest jednym z takich przyk�ad�w. Pojawia si� on najcz�ciej przy optymalnym zarz�dzaniu zasobami. Mamy dany zbi�r jakich� przedmiot�w z czego ka�dy z nich posiada okre�lony ci�ar i warto��. Do plecaka musimy za�adowa� przedmioty o jak najwi�kszej warto�ci. Naszym ograniczeniem jest jednak ��czny ci�ar przedmiot�w kt�re mo�emy ud�wign��. 

Algorytm mr�wkowy wygl�da bardzo podobnie w tym przypadku. Na pocz�tku jest $N$ agent�w - mr�wek. Ka�dy agent iteracyjnie poszukuje jak najlepszego rozwi�zania. Po ka�dej iteracji mo�na wyr�ni� trzy typy rozwi�za�: rozwi�zanie po�rednie, rozwi�zanie cz�ciowe lub stan. Agenci w celu znalezienia rozwi�zania wykorzystuj� swoje naturalne umiej�tno�ci czyli zostawiaj� na wszystkich obiektach w plecaku feromony. Dzi�ki lotno�ci feromon�w mr�wki s� w stanie identyfikowa� bardziej zadowalaj�ce przedmioty.

Krzysztof Schiff w artykule Ant colony optimization algorithm for the 0-1 knapsack\cite{kl_alg_plecakowy} przedstawi� rozwi�zanie problemu plecakowego. Do wyboru najlepszego rozwi�zania wykorzystane zosta�y trzy metody. Zgodnie z przyj�t� konwencj� przez autora artyku�u metody maj� odpowiednie nazwy: AKA1, AKA2 oraz AKA3. Za wyb�r najlepszego rozwi�zania odpowiadaj� wzory: 
	\[
	    AKA1 = \frac{z}{\frac{w}{V}}
	\]
	\[
	    AKA2 = \frac{z}{w^2}
	\]
	\[
	    AKA3 = \frac{z}{\frac{w}{C}}
	\]
gdzie:\\
-- z jest zyskiem wybranego obiektu;\\
-- w jest wag� wybranego obiektu;\\
-- V jest aktualn� �adowno�ci� plecaka;\\
-- z jest zyskiem wybranego obiektu;\\
-- C jest ca�kowit� wag� plecaka.\\

Problem komiwoja�era i problem plecakowy s� problemami kombinatorycznymi. Ich rozwi�zanie polega na poszukiwaniu optymalnej �cie�ki na grafie pe�nym. Inna odmian� problemu jest kolorowania grafu. W tej wariacji problem jest od razu zadany na grafie. Dla wszystkich wierzcho�k�w w grafie nale�y dobra� takie kolory, aby �adne dwa s�siednie wierzcho�ki nie mia�y tego samego koloru \cite{kl_inne_alg_mrowkowe}. 

Mr�wki nie dzia�aj� bezpo�rednio na grafie pocz�tkowym poniewa� graf ten nie musi by� grafem pe�nym. Nale�y stworzy� dla mr�wek alternatyw� podobn� do orygina�u z zachowaniem takiego samego zbioru wierzcho�k�w ale z pe�nymi kraw�dziami. Nast�pnie nale�y dobra� numeryczne warto�ci odpowiadaj�ce konkretnym kolorom. Je�li mr�wka odwiedzi dany wierzcho�ek, to zostaje on pokolorowany na najni�szy kolor kt�ry nie zosta� dotychczas u�yty do kolorowania kt�rego� z s�siad�w.

Tak jak w przypadku poprzednich algorytm�w wykorzystywane s� zapachy pozostawiane przez mr�wki. Ilo�� u�ytych unikalnych kolor�w by�aby odwrotnie proporcjonalna do ilo�ci feromon�w. W efekcie czego heurystyka by�aby odwrotnie proporcjonalna do wykorzystanych kolor�w po kolejnych iteracjach. Wynikiem tych operacji b�dzie rozwi�zanie w kt�rym, w grafie oryginalnym ka�dy wierzcho�ek b�dzie odwiedzany tylko raz.

Ostatni z przyk�ad�w wykorzystania algorytmu mr�wkowego jest harmonogram produkcji. W por�wnaniu do poprzednich metod w tym algorytmie zachodzi pewna modyfikacja. G��wnym problemem w harmonogramie produkcji jest znalezienie takiej kolejno�ci przetwarzanych zada�, aby jak najszybciej je przetworzy�. Aby lepiej zobrazowa� t� sytuacj� nale�y sobie wyobrazi� fabryk� w kt�rej znajduj� si� linie produkcyjne. Na linii s� przetwarzane zadania w odpowiedniej kolejno�ci oraz ka�de z zada� mo�e zosta� wykonane w r�nym czasie\cite{kl_inne_alg_mrowkowe}. 

W tej metodzie, podobnie jak w metodzie do rozwi�zania problemu plecakowego, nale�y stworzy� graf pe�ny z wierzcho�kami odpowiadaj�cymi konkretnym zadaniom. Nast�pnie mr�wki przechodz� przez wszystkie wierzcho�ki i zostawiaj� feromony. Czynnikiem decyduj�cym o wyborze wierzcho�k�w nadal jest zwi�zana z feromonami. Do rozwi�zania tego problemu nie jest brana pod uwag� liczba feromon�w na kraw�dzi pomi�dzy wierzcho�kiem a jego s�siadami. Wykorzystywana jest natomiast suma feromon�w na wszystkich kraw�dziach do odwiedzanych wierzcho�k�w z wierzcho�kami ju� odwiedzonymi.


\subsection{Algorytmy zach�anne}
	Kolejnym spojrzeniem na poruszany w pracy problem komiwoja�era s� algorytmy zach�anne (ang. \textit{greedy algorithms}), gdzie stosuj�c si� do pewnych zasad mo�na okre�li�, �e dla danego problemu istnieje rozwi�zanie zach�anne. G��wn� strategi� algorytm�w zach�annych jak� si� kieruj� jak sama nazwa naprowadza jest dokonywanie wybor�w, kt�re w danej chwili wydaj� si� najlepsze. Oznacza to, �e dokonuje si� wybor�w optymalnych lokalnie w nadziei, �e te wybory doprowadz� do rozwi�zania globalnego w zadowalaj�cym czasie. 
	
	
	W odr�nieniu do strategii zastosowanej w programowaniu dynamicznym, wybory podejmowane przez algorytmy zach�anne nie s� uzale�nione od wybor�w przesz�ych. Kolejnym kryterium stosowanym do ocenienia poprawno�ci rozwi�zania zach�annego jest w�asno�� optymalnego pod problemu, m�wi�ca o tym, �e optymalne rozwi�zanie dla ca�ego problemu istnieje jedynie przy optymalnym rozwi�zaniu pomniejszych pod problem�w. Dane kryterium jest r�wnie� istotne w przypadku rozwi�zywania problem�w metod� programowania dynamicznego. Algorytmy zach�anne nie zawsze prowadz� jednak do optymalnych rozwi�za�, jednak�e dla w wi�kszo�ci problem�w daj� wystarczaj�ce rezultaty.
	Skorzystanie z algorytm�w zach�annych cz�sto okazuje si� niewystarczaj�ce. Aby uzyska� lepszy efekt i polepszy� zbudowane ju� trasy mo�emy wykorzysta� algorytmy lokalnej optymalizacji (ang. \textit{local search}). U�ycie ich na zwr�conych przez algorytmy zach�anne trasach powinno zminimalizowa� odleg�o�ci mi�dzy wierzcho�kami w celu poprawienia otrzymanego rozwi�zania. Dok�adniejszy opis dzia�ania wybranych algorytm�w zach�annych i metod optymalizuj�cych zosta� przedstawiony w podrozdzia�ach.

	
	Ju� w latach pi��dziesi�tych zosta�a zastosowana koncepcja algorytm�w zach�annych do przeszukiwania graf�w, gdzie Esdger Wybe Dijkstra d���c do skr�cenia tras w Amsterdamie, stolicy Holandii opracowa� technik� do generowania minimalnych drzew rozpinaj�cych. R�wnie� w tej samej dekadzie Robert Clay Prim oraz Joseph Bernard Kruskal opracowali strategie optymalizacji, kt�re opiera�y si� na minimalizacji koszt�w dla wa�onych tras. Do dzisiaj stworzone algorytmy s� wykorzystywane w mapach geograficznych do wyznaczania najkr�tszych �cie�ek, do znajdowania OSPF (ang. \textit{Open Shortest Path First}) w protokole routingu IP (ang. \textit{Internet Protocol}) czy w sieciach telefonicznych.
	

